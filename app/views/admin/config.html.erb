<%= render "admin/admin_navbar" %>
<script>
console.log("heyyo")
	var view = "config";

	function addRow(){
		$('#last-conf-field').off('change');
		$('#last-conf-field').removeAttr('id');
		$('#config-fields').append('<%=j render partial: 'admin/config_row' %>');
		$('#last-conf-field').on('change', function(){ addRow(); });

		$(".syn-btn").off('click');
		$(".syn-btn").on('click', function(event){
			event.preventDefault();
			var src = $(event.target);

			$("<li><div class=\"form-group\"><input class=\"form-control\" type=\"text\"></input></div></li>").insertBefore(src);
		});
	}

	function escapeRegExp(str) {
		return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
	}
</script>

<style>
	ul {
		list-style-type: none;
	}

	.rem-padding {
		padding-left: 0;
		padding-right: 0;
	}
</style>

<div id="contents" class="container">
	<form>
	<div class="row">
		<div class="col-md-12 col-md-offset-0 col-xs-10 col-xs-offset-1 well">
			<div class="form-group">
				<label>Enter the webpage's URL:</label>
				<input class="form-control" type="url" required></input>
			</div>
		</div>
	</div>
	
	<div id="config-fields">
	</div>
	<script>addRow()</script>

	<div class="row">
		<div class="col-md-12 col-md-offset-0 col-xs-10 col-xs-offset-1 rem-padding">
			<div class="form-group">
				<button type="button" class="btn btn-default btn-block" onclick="addRow()">
					<span class="glyphicon glyphicon-plus"></span> Add Row
				</button>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12 col-md-offset-0 col-xs-10 col-xs-offset-1 rem-padding">
			<div class="form-group">
				<button type="submit" class="btn btn-primary btn-lg pull-right">
					Submit
				</button>
			</div>
		</div>
	</div>
</form>
</div>
<br />